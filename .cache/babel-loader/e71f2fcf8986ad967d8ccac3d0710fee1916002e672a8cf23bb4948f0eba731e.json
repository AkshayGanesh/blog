{"ast":null,"code":"\"use strict\";\n\n/*\n * indicative-parser\n *\n * (c) Harminder Virk <virk@adonisjs.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst getBaseRules_1 = require(\"./getBaseRules\");\nconst getObjectType_1 = require(\"./getObjectType\");\n/**\n * Returns runtime node for an array type.\n */\nfunction getArrayType(schema, isOptional, rules) {\n  return {\n    getTree() {\n      const children = typeof schema.getTree === 'function' ? schema.getTree() : getObjectType_1.getObjectType(schema, false).getTree();\n      if (children.type === 'array') {\n        throw new Error('2d arrays are currently not supported');\n      }\n      return {\n        type: 'array',\n        rules: getBaseRules_1.getBaseRules('array', isOptional).concat(rules),\n        each: {\n          '*': {\n            /**\n             * Nodes of array cannot be marked as required and hence `size`\n             * rule must be used on array for same\n             */\n            rules: children.rules.filter(_ref => {\n              let {\n                name\n              } = _ref;\n              return name !== 'required';\n            }),\n            children: children.type === 'object' ? children.children : {}\n          }\n        }\n      };\n    }\n  };\n}\nexports.getArrayType = getArrayType;","map":{"version":3,"names":["Object","defineProperty","exports","value","getBaseRules_1","require","getObjectType_1","getArrayType","schema","isOptional","rules","getTree","children","getObjectType","type","Error","getBaseRules","concat","each","filter","_ref","name"],"sources":["/Users/akshayg/Personal/blog/blog/node_modules/indicative-parser/build/src/utils/getArrayType.js"],"sourcesContent":["\"use strict\";\n/*\n * indicative-parser\n *\n * (c) Harminder Virk <virk@adonisjs.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getBaseRules_1 = require(\"./getBaseRules\");\nconst getObjectType_1 = require(\"./getObjectType\");\n/**\n * Returns runtime node for an array type.\n */\nfunction getArrayType(schema, isOptional, rules) {\n    return {\n        getTree() {\n            const children = typeof (schema.getTree) === 'function'\n                ? schema.getTree()\n                : getObjectType_1.getObjectType(schema, false).getTree();\n            if (children.type === 'array') {\n                throw new Error('2d arrays are currently not supported');\n            }\n            return {\n                type: 'array',\n                rules: getBaseRules_1.getBaseRules('array', isOptional).concat(rules),\n                each: {\n                    '*': {\n                        /**\n                         * Nodes of array cannot be marked as required and hence `size`\n                         * rule must be used on array for same\n                         */\n                        rules: children.rules.filter(({ name }) => name !== 'required'),\n                        children: children.type === 'object' ? children.children : {},\n                    },\n                },\n            };\n        },\n    };\n}\nexports.getArrayType = getArrayType;\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,cAAc,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAChD,MAAMC,eAAe,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAClD;AACA;AACA;AACA,SAASE,YAAYA,CAACC,MAAM,EAAEC,UAAU,EAAEC,KAAK,EAAE;EAC7C,OAAO;IACHC,OAAOA,CAAA,EAAG;MACN,MAAMC,QAAQ,GAAG,OAAQJ,MAAM,CAACG,OAAQ,KAAK,UAAU,GACjDH,MAAM,CAACG,OAAO,CAAC,CAAC,GAChBL,eAAe,CAACO,aAAa,CAACL,MAAM,EAAE,KAAK,CAAC,CAACG,OAAO,CAAC,CAAC;MAC5D,IAAIC,QAAQ,CAACE,IAAI,KAAK,OAAO,EAAE;QAC3B,MAAM,IAAIC,KAAK,CAAC,uCAAuC,CAAC;MAC5D;MACA,OAAO;QACHD,IAAI,EAAE,OAAO;QACbJ,KAAK,EAAEN,cAAc,CAACY,YAAY,CAAC,OAAO,EAAEP,UAAU,CAAC,CAACQ,MAAM,CAACP,KAAK,CAAC;QACrEQ,IAAI,EAAE;UACF,GAAG,EAAE;YACD;AACxB;AACA;AACA;YACwBR,KAAK,EAAEE,QAAQ,CAACF,KAAK,CAACS,MAAM,CAACC,IAAA;cAAA,IAAC;gBAAEC;cAAK,CAAC,GAAAD,IAAA;cAAA,OAAKC,IAAI,KAAK,UAAU;YAAA,EAAC;YAC/DT,QAAQ,EAAEA,QAAQ,CAACE,IAAI,KAAK,QAAQ,GAAGF,QAAQ,CAACA,QAAQ,GAAG,CAAC;UAChE;QACJ;MACJ,CAAC;IACL;EACJ,CAAC;AACL;AACAV,OAAO,CAACK,YAAY,GAAGA,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}