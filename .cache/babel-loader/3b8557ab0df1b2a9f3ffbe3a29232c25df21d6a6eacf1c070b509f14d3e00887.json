{"ast":null,"code":"\"use strict\";\n\n/*\n * indicative-parser\n *\n * (c) Harminder Virk <virk@adonisjs.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst getBaseRules_1 = require(\"./getBaseRules\");\n/**\n * Returns runtime node for an array type.\n */\nfunction getTupleType(schemas, isOptional, rules) {\n  return {\n    getTree() {\n      const payload = {\n        type: 'array',\n        rules: getBaseRules_1.getBaseRules('array', isOptional).concat([{\n          name: 'size',\n          args: [schemas.length]\n        }]) // Enforce length\n        .concat(rules),\n        each: {}\n      };\n      schemas.forEach((schema, index) => {\n        const children = schema.getTree();\n        if (children.type === 'array') {\n          throw new Error('2d arrays are currently not supported');\n        }\n        payload.each[index] = {\n          /**\n           * Nodes of array cannot be marked as required and hence `size`\n           * rule must be used on array for same\n           */\n          rules: children.rules.filter(_ref => {\n            let {\n              name\n            } = _ref;\n            return name !== 'required';\n          }),\n          children: children.type === 'object' ? children.children : {}\n        };\n      });\n      return payload;\n    }\n  };\n}\nexports.getTupleType = getTupleType;","map":{"version":3,"names":["Object","defineProperty","exports","value","getBaseRules_1","require","getTupleType","schemas","isOptional","rules","getTree","payload","type","getBaseRules","concat","name","args","length","each","forEach","schema","index","children","Error","filter","_ref"],"sources":["/Users/akshayg/Personal/blog/blog/node_modules/indicative-parser/build/src/utils/getTupleType.js"],"sourcesContent":["\"use strict\";\n/*\n * indicative-parser\n *\n * (c) Harminder Virk <virk@adonisjs.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getBaseRules_1 = require(\"./getBaseRules\");\n/**\n * Returns runtime node for an array type.\n */\nfunction getTupleType(schemas, isOptional, rules) {\n    return {\n        getTree() {\n            const payload = {\n                type: 'array',\n                rules: getBaseRules_1.getBaseRules('array', isOptional)\n                    .concat([{ name: 'size', args: [schemas.length] }]) // Enforce length\n                    .concat(rules),\n                each: {},\n            };\n            schemas.forEach((schema, index) => {\n                const children = schema.getTree();\n                if (children.type === 'array') {\n                    throw new Error('2d arrays are currently not supported');\n                }\n                payload.each[index] = {\n                    /**\n                     * Nodes of array cannot be marked as required and hence `size`\n                     * rule must be used on array for same\n                     */\n                    rules: children.rules.filter(({ name }) => name !== 'required'),\n                    children: children.type === 'object' ? children.children : {},\n                };\n            });\n            return payload;\n        },\n    };\n}\nexports.getTupleType = getTupleType;\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,cAAc,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAChD;AACA;AACA;AACA,SAASC,YAAYA,CAACC,OAAO,EAAEC,UAAU,EAAEC,KAAK,EAAE;EAC9C,OAAO;IACHC,OAAOA,CAAA,EAAG;MACN,MAAMC,OAAO,GAAG;QACZC,IAAI,EAAE,OAAO;QACbH,KAAK,EAAEL,cAAc,CAACS,YAAY,CAAC,OAAO,EAAEL,UAAU,CAAC,CAClDM,MAAM,CAAC,CAAC;UAAEC,IAAI,EAAE,MAAM;UAAEC,IAAI,EAAE,CAACT,OAAO,CAACU,MAAM;QAAE,CAAC,CAAC,CAAC,CAAC;QAAA,CACnDH,MAAM,CAACL,KAAK,CAAC;QAClBS,IAAI,EAAE,CAAC;MACX,CAAC;MACDX,OAAO,CAACY,OAAO,CAAC,CAACC,MAAM,EAAEC,KAAK,KAAK;QAC/B,MAAMC,QAAQ,GAAGF,MAAM,CAACV,OAAO,CAAC,CAAC;QACjC,IAAIY,QAAQ,CAACV,IAAI,KAAK,OAAO,EAAE;UAC3B,MAAM,IAAIW,KAAK,CAAC,uCAAuC,CAAC;QAC5D;QACAZ,OAAO,CAACO,IAAI,CAACG,KAAK,CAAC,GAAG;UAClB;AACpB;AACA;AACA;UACoBZ,KAAK,EAAEa,QAAQ,CAACb,KAAK,CAACe,MAAM,CAACC,IAAA;YAAA,IAAC;cAAEV;YAAK,CAAC,GAAAU,IAAA;YAAA,OAAKV,IAAI,KAAK,UAAU;UAAA,EAAC;UAC/DO,QAAQ,EAAEA,QAAQ,CAACV,IAAI,KAAK,QAAQ,GAAGU,QAAQ,CAACA,QAAQ,GAAG,CAAC;QAChE,CAAC;MACL,CAAC,CAAC;MACF,OAAOX,OAAO;IAClB;EACJ,CAAC;AACL;AACAT,OAAO,CAACI,YAAY,GAAGA,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}